{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\DenisIevlev\\\\Desktop\\\\game-of-thrones\\\\react-gotapp\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\DenisIevlev\\\\Desktop\\\\game-of-thrones\\\\react-gotapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\DenisIevlev\\\\Desktop\\\\game-of-thrones\\\\react-gotapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\DenisIevlev\\\\Desktop\\\\game-of-thrones\\\\react-gotapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\n\nvar gotService =\n/*#__PURE__*/\nfunction () {\n  function gotService() {\n    var _this = this;\n\n    _classCallCheck(this, gotService);\n\n    this.getResource =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(url) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(_this._apiBase).concat(url));\n\n              case 2:\n                res = _context.sent;\n\n                if (res.ok) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n\n              case 5:\n                _context.next = 7;\n                return res.json();\n\n              case 7:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this._extractId = function (item) {\n      var idRegExp = /\\/([0-9]*)$/;\n      return item.url.match(idRegExp)[1];\n    };\n\n    this._transformCharacter = function (character) {\n      return {\n        id: _this._extractId(character),\n        name: _this.isSetData(character.name),\n        gender: _this.isSetData(character.gender),\n        born: _this.isSetData(character.born),\n        died: _this.isSetData(character.died),\n        culture: _this.isSetData(character.culture)\n      };\n    };\n\n    this._transformHouse = function (house) {\n      return {\n        id: _this._extractId(house),\n        name: _this.isSetData(house.name),\n        region: _this.isSetData(house.region),\n        words: _this.isSetData(house.words),\n        titles: _this.isSetData(house.titles),\n        overlord: _this.isSetData(house.overlord),\n        ancestralWeapons: _this.isSetData(house.ancestralWeapons)\n      };\n    };\n\n    this._transformBook = function (book) {\n      return {\n        id: _this._extractId(book),\n        name: _this.isSetData(book.name),\n        numberOfPages: _this.isSetData(book.numberOfPages),\n        publisher: _this.isSetData(book.publisher),\n        released: _this.isSetData(book.released)\n      };\n    };\n\n    this._apiBase = \"https://anapioficeandfire.com/api\";\n  }\n\n  _createClass(gotService, [{\n    key: \"getAllCharacters\",\n    value: function () {\n      var _getAllCharacters = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getResource(\"/characters?page=5&pageSize=10\");\n\n              case 2:\n                res = _context2.sent;\n                return _context2.abrupt(\"return\", res.map(this._transformCharacter));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getAllCharacters() {\n        return _getAllCharacters.apply(this, arguments);\n      }\n\n      return getAllCharacters;\n    }()\n  }, {\n    key: \"getCharacter\",\n    value: function () {\n      var _getCharacter = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(id) {\n        var character;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getResource(\"/characters/\".concat(id));\n\n              case 2:\n                character = _context3.sent;\n                return _context3.abrupt(\"return\", this._transformCharacter(character));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getCharacter(_x2) {\n        return _getCharacter.apply(this, arguments);\n      }\n\n      return getCharacter;\n    }()\n  }, {\n    key: \"getAllBooks\",\n    value: function () {\n      var _getAllBooks = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.getResource(\"/books/\");\n\n              case 2:\n                res = _context4.sent;\n                return _context4.abrupt(\"return\", res.map(this._transformBook));\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getAllBooks() {\n        return _getAllBooks.apply(this, arguments);\n      }\n\n      return getAllBooks;\n    }()\n  }, {\n    key: \"getBook\",\n    value: function () {\n      var _getBook = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(id) {\n        var book;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.getResource(\"/books/\".concat(id));\n\n              case 2:\n                book = _context5.sent;\n                return _context5.abrupt(\"return\", this._transformBook(book));\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getBook(_x3) {\n        return _getBook.apply(this, arguments);\n      }\n\n      return getBook;\n    }()\n  }, {\n    key: \"getAllHouses\",\n    value: function () {\n      var _getAllHouses = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.getResource(\"/houses/\");\n\n              case 2:\n                res = _context6.sent;\n                return _context6.abrupt(\"return\", res.map(this._transformHouse));\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getAllHouses() {\n        return _getAllHouses.apply(this, arguments);\n      }\n\n      return getAllHouses;\n    }()\n  }, {\n    key: \"getHouse\",\n    value: function () {\n      var _getHouse = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(id) {\n        var house;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                house = this.getResource(\"/houses/\".concat(id));\n                return _context7.abrupt(\"return\", this._transformHouse(house));\n\n              case 2:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getHouse(_x4) {\n        return _getHouse.apply(this, arguments);\n      }\n\n      return getHouse;\n    }()\n  }, {\n    key: \"isSetData\",\n    value: function isSetData(data) {\n      if (data) {\n        return data;\n      } else {\n        return 'no data';\n      }\n    }\n  }]);\n\n  return gotService;\n}();\n\nexport { gotService as default };","map":{"version":3,"sources":["C:\\Users\\DenisIevlev\\Desktop\\game-of-thrones\\react-gotapp\\src\\services\\gotService.js"],"names":["gotService","getResource","url","fetch","_apiBase","res","ok","Error","status","json","_extractId","item","idRegExp","match","_transformCharacter","character","id","name","isSetData","gender","born","died","culture","_transformHouse","house","region","words","titles","overlord","ancestralWeapons","_transformBook","book","numberOfPages","publisher","released","map","data"],"mappings":"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","sourcesContent":["export default class gotService {\r\n    constructor() {\r\n        this._apiBase = \"https://anapioficeandfire.com/api\";\r\n    }\r\n    getResource = async (url) => {\r\n        const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}` +\r\n                `, received ${res.status}`)\r\n        }\r\n        return await res.json();\r\n    }\r\n    async getAllCharacters() {\r\n        const res = await this.getResource(`/characters?page=5&pageSize=10`);\r\n        return res.map(this._transformCharacter);\r\n    }\r\n    async getCharacter(id) {\r\n        const character = await this.getResource(`/characters/${id}`);\r\n        return this._transformCharacter(character);\r\n    }\r\n    async getAllBooks() {\r\n        const res = await this.getResource(`/books/`);\r\n        return res.map(this._transformBook);\r\n    }\r\n    async getBook(id) {\r\n        const book = await this.getResource(`/books/${id}`);\r\n        return this._transformBook(book);\r\n    }\r\n    async getAllHouses() {\r\n        const res = await this.getResource(`/houses/`);\r\n        return res.map(this._transformHouse);\r\n    }\r\n    async getHouse(id) {\r\n        const house = this.getResource(`/houses/${id}`);\r\n        return this._transformHouse(house);\r\n    }\r\n    isSetData(data) {\r\n        if (data) {\r\n            return data\r\n        } else {\r\n            return 'no data';\r\n        }\r\n    }\r\n    _extractId = (item) => {\r\n        const idRegExp = /\\/([0-9]*)$/;\r\n        return item.url.match(idRegExp)[1];\r\n    }\r\n    \r\n    _transformCharacter = (character) => {\r\n        return {\r\n            id: this._extractId(character),\r\n            name: this.isSetData(character.name),\r\n            gender: this.isSetData(character.gender),\r\n            born: this.isSetData(character.born),\r\n            died: this.isSetData(character.died),\r\n            culture: this.isSetData(character.culture)\r\n        }\r\n    }\r\n    _transformHouse = (house) => {\r\n        return {\r\n            id: this._extractId(house),\r\n            name: this.isSetData(house.name),\r\n            region: this.isSetData(house.region),\r\n            words: this.isSetData(house.words),\r\n            titles: this.isSetData(house.titles),\r\n            overlord: this.isSetData(house.overlord),\r\n            ancestralWeapons: this.isSetData(house.ancestralWeapons)\r\n        }\r\n    }\r\n    _transformBook = (book) => {\r\n        return {\r\n            id: this._extractId(book),\r\n            name: this.isSetData(book.name),\r\n            numberOfPages: this.isSetData(book.numberOfPages),\r\n            publisher: this.isSetData(book.publisher),\r\n            released: this.isSetData(book.released)\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}