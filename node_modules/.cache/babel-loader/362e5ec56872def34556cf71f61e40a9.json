{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\DenisIevlev\\\\Desktop\\\\game-of-thrones\\\\react-gotapp\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\DenisIevlev\\\\Desktop\\\\game-of-thrones\\\\react-gotapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\DenisIevlev\\\\Desktop\\\\game-of-thrones\\\\react-gotapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\DenisIevlev\\\\Desktop\\\\game-of-thrones\\\\react-gotapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\n\nvar gotService =\n/*#__PURE__*/\nfunction () {\n  function gotService() {\n    var _this = this;\n\n    _classCallCheck(this, gotService);\n\n    this.getResource =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(url) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(_this._apiBase).concat(url));\n\n              case 2:\n                res = _context.sent;\n\n                if (res.ok) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n\n              case 5:\n                _context.next = 7;\n                return res.json();\n\n              case 7:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this._apiBase = \"https://anapioficeandfire.com/api\";\n  }\n\n  _createClass(gotService, [{\n    key: \"getAllCharacters\",\n    value: function () {\n      var _getAllCharacters = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getResource(\"/characters?page=5&pageSize=10\");\n\n              case 2:\n                res = _context2.sent;\n                return _context2.abrupt(\"return\", res.map(this._transformCharacter));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getAllCharacters() {\n        return _getAllCharacters.apply(this, arguments);\n      }\n\n      return getAllCharacters;\n    }()\n  }, {\n    key: \"getCharacter\",\n    value: function () {\n      var _getCharacter = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(id) {\n        var character;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getResource(\"/characters/\".concat(id));\n\n              case 2:\n                character = _context3.sent;\n                return _context3.abrupt(\"return\", this._transformCharacter(character));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getCharacter(_x2) {\n        return _getCharacter.apply(this, arguments);\n      }\n\n      return getCharacter;\n    }()\n  }, {\n    key: \"getAllBooks\",\n    value: function () {\n      var _getAllBooks = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.getResource(\"/books/\");\n\n              case 2:\n                res = _context4.sent;\n                return _context4.abrupt(\"return\", res.map(this._transformBook));\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getAllBooks() {\n        return _getAllBooks.apply(this, arguments);\n      }\n\n      return getAllBooks;\n    }()\n  }, {\n    key: \"getBook\",\n    value: function () {\n      var _getBook = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(id) {\n        var book;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.getResource(\"/books/\".concat(id));\n\n              case 2:\n                book = _context5.sent;\n                return _context5.abrupt(\"return\", this._transformBook(book));\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getBook(_x3) {\n        return _getBook.apply(this, arguments);\n      }\n\n      return getBook;\n    }()\n  }, {\n    key: \"getAllHouses\",\n    value: function () {\n      var _getAllHouses = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.getResource(\"/houses/\");\n\n              case 2:\n                res = _context6.sent;\n                return _context6.abrupt(\"return\", res.map(this._transformHouse));\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getAllHouses() {\n        return _getAllHouses.apply(this, arguments);\n      }\n\n      return getAllHouses;\n    }()\n  }, {\n    key: \"getHouse\",\n    value: function () {\n      var _getHouse = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7(id) {\n        var house;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                house = this.getResource(\"/houses/\".concat(id));\n                return _context7.abrupt(\"return\", this._transformHouse(house));\n\n              case 2:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getHouse(_x4) {\n        return _getHouse.apply(this, arguments);\n      }\n\n      return getHouse;\n    }()\n  }, {\n    key: \"isSetData\",\n    value: function isSetData(data) {\n      if (data) {\n        return data;\n      } else {\n        return 'no data';\n      }\n    }\n  }, {\n    key: \"_transformCharacter\",\n    value: function _transformCharacter(character) {\n      return {\n        name: this.isSetData(character.name),\n        gender: this.isSetData(character.gender),\n        born: this.isSetData(character.born),\n        died: this.isSetData(character.died),\n        culture: this.isSetData(character.culture)\n      };\n    }\n  }, {\n    key: \"_transformHouse\",\n    value: function _transformHouse(house) {\n      return {\n        name: this.isSetData(house.name),\n        region: this.isSetData(house.region),\n        words: this.isSetData(house.words),\n        titles: this.isSetData(house.titles),\n        overlord: this.isSetData(house.overlord),\n        ancestralWeapons: this.isSetData(house.ancestralWeapons)\n      };\n    }\n  }, {\n    key: \"_transformBook\",\n    value: function _transformBook(book) {\n      return {\n        name: this.isSetData(book.name),\n        numberOfPages: this.isSetData(book.numberOfPages),\n        publisher: this.isSetData(book.publisher),\n        released: this.isSetData(book.released)\n      };\n    }\n  }]);\n\n  return gotService;\n}();\n\nexport { gotService as default };","map":{"version":3,"sources":["C:\\Users\\DenisIevlev\\Desktop\\game-of-thrones\\react-gotapp\\src\\services\\gotService.js"],"names":["gotService","getResource","url","fetch","_apiBase","res","ok","Error","status","json","map","_transformCharacter","id","character","_transformBook","book","_transformHouse","house","data","name","isSetData","gender","born","died","culture","region","words","titles","overlord","ancestralWeapons","numberOfPages","publisher","released"],"mappings":"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","sourcesContent":["export default class gotService {\r\n    constructor() {\r\n        this._apiBase = \"https://anapioficeandfire.com/api\";\r\n    }\r\n     getResource = async (url) => {\r\n        const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}` +\r\n                `, received ${res.status}`)\r\n        }\r\n        return await res.json();\r\n    }\r\n   async getAllCharacters() {\r\n        const res = await this.getResource(`/characters?page=5&pageSize=10`);\r\n        return res.map(this._transformCharacter);\r\n    }\r\n    async getCharacter(id) {\r\n        const character = await this.getResource(`/characters/${id}`);\r\n        return this._transformCharacter(character);\r\n    }\r\n   async getAllBooks() {\r\n       const res = await this.getResource(`/books/`);\r\n       return res.map(this._transformBook);\r\n    }\r\n    async getBook(id) {\r\n        const book = await this.getResource(`/books/${id}`);\r\n        return this._transformBook(book);\r\n    }\r\n    async getAllHouses() {\r\n        const res = await this.getResource(`/houses/`);\r\n        return res.map(this._transformHouse);\r\n    }\r\n    async getHouse(id) {\r\n        const house = this.getResource(`/houses/${id}`);\r\n        return this._transformHouse(house);\r\n    }\r\n    isSetData(data){\r\n        if(data){\r\n            return data;\r\n        } else {\r\n            return 'no data';\r\n        }\r\n    }\r\n    _transformCharacter(character){\r\n        return {\r\n            name: this.isSetData(character.name),\r\n            gender: this.isSetData(character.gender),\r\n            born: this.isSetData(character.born),\r\n            died: this.isSetData(character.died),\r\n            culture: this.isSetData(character.culture)\r\n        }\r\n    }\r\n    _transformHouse(house){\r\n        return {\r\n        name: this.isSetData(house.name),\r\n        region: this.isSetData(house.region),\r\n        words: this.isSetData(house.words),\r\n        titles: this.isSetData(house.titles),\r\n        overlord: this.isSetData(house.overlord),\r\n        ancestralWeapons: this.isSetData(house.ancestralWeapons)\r\n        }\r\n    }\r\n    _transformBook(book){\r\n        return {\r\n        name: this.isSetData(book.name),\r\n        numberOfPages: this.isSetData(book.numberOfPages),\r\n        publisher: this.isSetData(book.publisher),\r\n        released: this.isSetData(book.released)\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}